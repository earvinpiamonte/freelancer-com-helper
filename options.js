function restore_settings(){var e=$("#cover_letter"),t=$("#convert_url_to_links"),r=$("#remove_banners"),o=$("#auto_scroll_to_bid");chrome.storage.sync.get({coverLetter:"",convertURLtoLinks:!1,removeBanners:!1,autoScrollToBid:!1},function(a){e.val(a.coverLetter),t.prop("checked",a.convertURLtoLinks),r.prop("checked",a.removeBanners),o.prop("checked",a.autoScrollToBid);var s=1500-a.coverLetter.length;$("#cover_letter_chars_left").text(s)})}function show_form_alert(e,t){$("#settings-form-alert").removeClass().addClass(e).html(t).show(0).delay(5e3).hide(0)}$(function(){restore_settings();var e=chrome.runtime.getManifest();$(".manifest-author").html(e.author),$(".link-create-tab").on("click",function(){return chrome.tabs.create({url:$(this).attr("href")}),!1}),$('[data-toggle="tooltip"]').tooltip(),$("#btn-close-settings").on("click",function(e){e.preventDefault(),window.close()});$("textarea").keyup(function(){var e=$(this).val().length,t=1500-e;t<0?$("#cover_letter_chars_left").addClass("text-danger"):$("#cover_letter_chars_left").removeClass("text-danger"),$("#cover_letter_chars_left").text(t)}),$("#settings-form").on("submit",function(e){e.preventDefault();var t=$("#cover_letter"),r=$("#convert_url_to_links"),o=$("#remove_banners"),a=$("#auto_scroll_to_bid"),s="alert alert-danger",c='<i class="far fa-times-circle"></i> Your settings was not saved. Please try again.';t.val().length>1500?(s="alert alert-danger",c='<i class="far fa-times-circle"></i> Cover letter should only have a maximum length of 1500 characters.',show_form_alert(s,c)):chrome.storage.sync.set({coverLetter:t.val(),convertURLtoLinks:r.prop("checked"),removeBanners:o.prop("checked"),autoScrollToBid:a.prop("checked")},function(){s="alert alert-success",c='<i class="far fa-check-circle"></i> Your settings has beend saved!',show_form_alert(s,c)}),$("html, body").animate({scrollTop:0},0)})});